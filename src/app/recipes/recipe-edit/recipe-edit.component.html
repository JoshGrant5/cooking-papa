<div class="row">
  <div class="col-xs-12">
    <h1>My New Recipe</h1>
    <!-- Tell Angular that our overall form should be managed by us, and not by Angular -->
    <form [formGroup]='recipeForm' (ngSubmit)='onSubmit()'>
      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label for="name">Recipe Name</label>
            <input type="text" id='name' formControlName='name' class='form-control'>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label for="imagePath">Image URL</label>
            <input type="text" id='imagePath' formControlName='imagePath' class='form-control'
            #imagePath>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <img src="imagePath.value" class='img-responsive'>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label for="description">Description</label>
            <textarea type="text" id='description' formControlName='description' class='form-control' rows='6'></textarea>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12" formArrayName='ingredients'>
          <div class="row ingredient-container" *ngFor="let ingredientCtrl of controls; let i = index" [formGroupName]='i'>
            <div class="col-xs-8">
              <label for="item">Item</label>
              <input id='item' type="text" class='form-control' formControlName='name'>
            </div>
            <div class="col-xs-2">
              <label for="quantity">Quantity</label>
              <input id='quantity' type="number" class='form-control' formControlName='amount'>
            </div>
            <div class="col-xs-2 delete">
              <button type='button' class='bttn-simple bttn-sm bttn-primary' (click)='onDeleteIngredient(i)'>X</button>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <button type='button' class="bttn-simple bttn-md bttn-warning" (click)='onAddIngredient()'>Add Ingredient</button>
            </div>
          </div>
        </div>
      </div>
      <hr>
      <div class="row">
        <div class="col-xs-12 bttn-container">
          <button
            type='submit'
            class='bttn-simple bttn-md bttn-danger'
            [disabled]='!recipeForm.valid'
          >
            Save
          </button>
          <button type='button' class='bttn-simple bttn-md bttn-default' (click)='onCancel()'>Cancel</button>
        </div>
      </div>
    </form>
  </div>
</div>
